<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: rquery_optree Pages: 1 -->
<svg width="506pt" height="1264pt"
 viewBox="0.00 0.00 505.94 1264.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1260.2)">
<title>rquery_optree</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1260.2 501.9402,-1260.2 501.9402,4 -4,4"/>
<!-- table_d -->
<g id="node1" class="node">
<title>table_d</title>
<polygon fill="#66cd00" stroke="#000000" points="309.2222,-1256.1002 306.2222,-1260.1002 285.2222,-1260.1002 282.2222,-1256.1002 190.718,-1256.1002 190.718,-1147.4998 309.2222,-1147.4998 309.2222,-1256.1002"/>
<text text-anchor="start" x="198.8442" y="-1239.6" font-family="Times,serif" font-size="14.00" fill="#000000">table(`d`; </text>
<text text-anchor="start" x="198.8442" y="-1222.8" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;subjectID,</text>
<text text-anchor="start" x="198.8442" y="-1206" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;surveyCategory,</text>
<text text-anchor="start" x="198.8442" y="-1189.2" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;assessmentTotal,</text>
<text text-anchor="start" x="198.8442" y="-1172.4" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;irrelevantCol1,</text>
<text text-anchor="start" x="198.8442" y="-1155.6" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;irrelevantCol2)</text>
</g>
<!-- node_2 -->
<g id="node2" class="node">
<title>node_2</title>
<polygon fill="#cdc673" stroke="#000000" points="387.1413,-1112.4019 112.7989,-1112.4019 112.7989,-1071.1981 387.1413,-1071.1981 387.1413,-1112.4019"/>
<text text-anchor="start" x="120.6346" y="-1096" font-family="Times,serif" font-size="14.00" fill="#000000">extend(.,</text>
<text text-anchor="start" x="120.6346" y="-1079.2" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;probability := exp(assessmentTotal * 0.237))</text>
</g>
<!-- table_d&#45;&gt;node_2 -->
<g id="edge1" class="edge">
<title>table_d&#45;&gt;node_2</title>
<path fill="none" stroke="#000000" d="M249.9701,-1147.4445C249.9701,-1138.8856 249.9701,-1130.306 249.9701,-1122.5347"/>
<polygon fill="#000000" stroke="#000000" points="253.4702,-1122.5164 249.9701,-1112.5164 246.4702,-1122.5164 253.4702,-1122.5164"/>
<text text-anchor="middle" x="251.7201" y="-1125.8" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="253.4701,-1121.6 249.9701,-1121.6 249.9701,-1130.0318 "/>
</g>
<!-- table_ex_47818072688998837753_0000000000 -->
<g id="node3" class="node">
<title>table_ex_47818072688998837753_0000000000</title>
<polygon fill="#66cd00" stroke="#000000" points="396.4467,-1051.8006 393.4467,-1055.8006 372.4467,-1055.8006 369.4467,-1051.8006 103.4935,-1051.8006 103.4935,-926.5994 396.4467,-926.5994 396.4467,-1051.8006"/>
<text text-anchor="start" x="111.732" y="-1035.4" font-family="Times,serif" font-size="14.00" fill="#000000">table(ex_47818072688998837753_0000000000; </text>
<text text-anchor="start" x="111.732" y="-1018.6" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;subjectID,</text>
<text text-anchor="start" x="111.732" y="-1001.8" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;surveyCategory,</text>
<text text-anchor="start" x="111.732" y="-985" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;assessmentTotal,</text>
<text text-anchor="start" x="111.732" y="-968.2" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;irrelevantCol1,</text>
<text text-anchor="start" x="111.732" y="-951.4" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;irrelevantCol2,</text>
<text text-anchor="start" x="111.732" y="-934.6" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;probability)</text>
</g>
<!-- node_2&#45;&gt;table_ex_47818072688998837753_0000000000 -->
<g id="edge13" class="edge">
<title>node_2&#45;&gt;table_ex_47818072688998837753_0000000000</title>
<path fill="none" stroke="#000000" d="M249.9701,-1071.0374C249.9701,-1068.2578 249.9701,-1065.2903 249.9701,-1062.1934"/>
<polygon fill="#000000" stroke="#000000" points="253.4702,-1061.9348 249.9701,-1051.9348 246.4702,-1061.9348 253.4702,-1061.9348"/>
</g>
<!-- node_6 -->
<g id="node4" class="node">
<title>node_6</title>
<polygon fill="#cdc673" stroke="#000000" points="271.8227,-891.4019 38.1175,-891.4019 38.1175,-850.1981 271.8227,-850.1981 271.8227,-891.4019"/>
<text text-anchor="start" x="46.0438" y="-875" font-family="Times,serif" font-size="14.00" fill="#000000">project(., tot_prob := sum(probability),</text>
<text text-anchor="start" x="46.0438" y="-858.2" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;g= subjectID)</text>
</g>
<!-- table_ex_47818072688998837753_0000000000&#45;&gt;node_6 -->
<g id="edge2" class="edge">
<title>table_ex_47818072688998837753_0000000000&#45;&gt;node_6</title>
<path fill="none" stroke="#000000" d="M199.6883,-926.533C192.0777,-917.0477 184.5626,-907.6816 177.9281,-899.413"/>
<polygon fill="#000000" stroke="#000000" points="180.6045,-897.1558 171.6163,-891.5465 175.1447,-901.5366 180.6045,-897.1558"/>
<text text-anchor="middle" x="193.7201" y="-904.8" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="195.4701,-900.6 191.9701,-900.6 188.2707,-912.3031 "/>
</g>
<!-- node_7 -->
<g id="node5" class="node">
<title>node_7</title>
<polygon fill="#cdc673" stroke="#000000" points="382.4859,-815.2 115.4543,-815.2 115.4543,-779.2 382.4859,-779.2 382.4859,-815.2"/>
<text text-anchor="start" x="123.4622" y="-793" font-family="Times,serif" font-size="14.00" fill="#000000">natural_join(.1, .2, &#160;j= LEFT, by= subjectID)</text>
</g>
<!-- table_ex_47818072688998837753_0000000000&#45;&gt;node_7 -->
<g id="edge3" class="edge">
<title>table_ex_47818072688998837753_0000000000&#45;&gt;node_7</title>
<path fill="none" stroke="#000000" d="M284.4946,-926.4181C293.435,-902.3502 298.4471,-874.7383 289.9701,-850 286.6753,-840.3847 280.8364,-831.1689 274.5797,-823.2045"/>
<polygon fill="#000000" stroke="#000000" points="277.1179,-820.785 267.9975,-815.3935 271.765,-825.2958 277.1179,-820.785"/>
<text text-anchor="middle" x="300.2201" y="-866.6" font-family="Times,serif" font-size="14.00" fill="#000000">.1</text>
<polyline fill="none" stroke="#000000" points="305.4701,-862.4 294.9701,-862.4 294.1145,-871.1093 "/>
</g>
<!-- node_6&#45;&gt;node_7 -->
<g id="edge4" class="edge">
<title>node_6&#45;&gt;node_7</title>
<path fill="none" stroke="#000000" d="M181.4045,-850.1024C192.7876,-841.1897 206.1756,-830.7072 218.0186,-821.4344"/>
<polygon fill="#000000" stroke="#000000" points="220.2112,-824.1628 225.9272,-815.2421 215.8958,-818.6513 220.2112,-824.1628"/>
<text text-anchor="middle" x="219.2201" y="-828.4" font-family="Times,serif" font-size="14.00" fill="#000000">.2</text>
<polyline fill="none" stroke="#000000" points="224.4701,-824.2 213.9701,-824.2 213.2265,-825.1865 "/>
</g>
<!-- node_8 -->
<g id="node6" class="node">
<title>node_8</title>
<polygon fill="#cdc673" stroke="#000000" points="362.6238,-744.2019 135.3164,-744.2019 135.3164,-702.9981 362.6238,-702.9981 362.6238,-744.2019"/>
<text text-anchor="start" x="143.1434" y="-727.8" font-family="Times,serif" font-size="14.00" fill="#000000">extend(.,</text>
<text text-anchor="start" x="143.1434" y="-711" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;probability := probability / tot_prob)</text>
</g>
<!-- node_7&#45;&gt;node_8 -->
<g id="edge5" class="edge">
<title>node_7&#45;&gt;node_8</title>
<path fill="none" stroke="#000000" d="M248.9701,-779.0067C248.9701,-771.6437 248.9701,-762.9321 248.9701,-754.6234"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-754.4463 248.9701,-744.4463 245.4702,-754.4464 252.4702,-754.4463"/>
<text text-anchor="middle" x="250.7201" y="-757.6" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="252.4701,-753.4 248.9701,-753.4 248.9701,-761.6905 "/>
</g>
<!-- table_ex_47818072688998837753_0000000001 -->
<g id="node7" class="node">
<title>table_ex_47818072688998837753_0000000001</title>
<polygon fill="#66cd00" stroke="#000000" points="395.4467,-684.0006 392.4467,-688.0006 371.4467,-688.0006 368.4467,-684.0006 102.4935,-684.0006 102.4935,-541.1994 395.4467,-541.1994 395.4467,-684.0006"/>
<text text-anchor="start" x="110.732" y="-667.2" font-family="Times,serif" font-size="14.00" fill="#000000">table(ex_47818072688998837753_0000000001; </text>
<text text-anchor="start" x="110.732" y="-650.4" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;subjectID,</text>
<text text-anchor="start" x="110.732" y="-633.6" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;surveyCategory,</text>
<text text-anchor="start" x="110.732" y="-616.8" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;assessmentTotal,</text>
<text text-anchor="start" x="110.732" y="-600" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;irrelevantCol1,</text>
<text text-anchor="start" x="110.732" y="-583.2" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;irrelevantCol2,</text>
<text text-anchor="start" x="110.732" y="-566.4" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;probability,</text>
<text text-anchor="start" x="110.732" y="-549.6" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;tot_prob)</text>
</g>
<!-- node_8&#45;&gt;table_ex_47818072688998837753_0000000001 -->
<g id="edge14" class="edge">
<title>node_8&#45;&gt;table_ex_47818072688998837753_0000000001</title>
<path fill="none" stroke="#000000" d="M248.9701,-702.9819C248.9701,-700.2487 248.9701,-697.3258 248.9701,-694.2652"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-694.0858 248.9701,-684.0858 245.4702,-694.0858 252.4702,-694.0858"/>
</g>
<!-- node_11 -->
<g id="node8" class="node">
<title>node_11</title>
<polygon fill="#cdc673" stroke="#000000" points="275.0888,-506.4019 26.8514,-506.4019 26.8514,-465.1981 275.0888,-465.1981 275.0888,-506.4019"/>
<text text-anchor="start" x="34.6609" y="-490" font-family="Times,serif" font-size="14.00" fill="#000000">project(., probability := max(probability),</text>
<text text-anchor="start" x="34.6609" y="-473.2" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;g= subjectID)</text>
</g>
<!-- table_ex_47818072688998837753_0000000001&#45;&gt;node_11 -->
<g id="edge6" class="edge">
<title>table_ex_47818072688998837753_0000000001&#45;&gt;node_11</title>
<path fill="none" stroke="#000000" d="M193.6692,-541.0475C186.4513,-531.7083 179.4188,-522.6091 173.2124,-514.5788"/>
<polygon fill="#000000" stroke="#000000" points="175.955,-512.4039 167.0705,-506.6319 170.4164,-516.6846 175.955,-512.4039"/>
<text text-anchor="middle" x="187.7201" y="-519.8" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="189.4701,-515.6 185.9701,-515.6 182.9005,-527.114 "/>
</g>
<!-- node_13 -->
<g id="node9" class="node">
<title>node_13</title>
<polygon fill="#cdc673" stroke="#000000" points="421.2462,-430.2 76.694,-430.2 76.694,-394.2 421.2462,-394.2 421.2462,-430.2"/>
<text text-anchor="start" x="84.5821" y="-408" font-family="Times,serif" font-size="14.00" fill="#000000">natural_join(.1, .2, &#160;j= INNER, by= subjectID, probability)</text>
</g>
<!-- table_ex_47818072688998837753_0000000001&#45;&gt;node_13 -->
<g id="edge8" class="edge">
<title>table_ex_47818072688998837753_0000000001&#45;&gt;node_13</title>
<path fill="none" stroke="#000000" d="M288.8911,-541.1124C297.5777,-516.7648 301.8453,-489.5137 292.9701,-465 289.4361,-455.2389 283.2224,-446.0143 276.5585,-438.0888"/>
<polygon fill="#000000" stroke="#000000" points="279.1234,-435.7068 269.8271,-430.6246 273.9251,-440.3948 279.1234,-435.7068"/>
<text text-anchor="middle" x="303.2201" y="-481.6" font-family="Times,serif" font-size="14.00" fill="#000000">.2</text>
<polyline fill="none" stroke="#000000" points="308.4701,-477.4 297.9701,-477.4 297.5338,-486.2075 "/>
</g>
<!-- node_11&#45;&gt;node_13 -->
<g id="edge7" class="edge">
<title>node_11&#45;&gt;node_13</title>
<path fill="none" stroke="#000000" d="M178.5294,-465.1024C190.3969,-456.1897 204.3546,-445.7072 216.7015,-436.4344"/>
<polygon fill="#000000" stroke="#000000" points="219.0524,-439.046 224.9466,-430.2421 214.8487,-433.4487 219.0524,-439.046"/>
<text text-anchor="middle" x="217.2201" y="-443.4" font-family="Times,serif" font-size="14.00" fill="#000000">.1</text>
<polyline fill="none" stroke="#000000" points="222.4701,-439.2 211.9701,-439.2 211.4074,-440.4104 "/>
</g>
<!-- node_14 -->
<g id="node10" class="node">
<title>node_14</title>
<polygon fill="#cdc673" stroke="#000000" points="497.9103,-359.2019 .0299,-359.2019 .0299,-317.9981 497.9103,-317.9981 497.9103,-359.2019"/>
<text text-anchor="start" x="8" y="-342.8" font-family="Times,serif" font-size="14.00" fill="#000000">project(., probability := max(probability), surveyCategory := min(surveyCategory [...]</text>
<text text-anchor="middle" x="248.9701" y="-326" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;g= subjectID)</text>
</g>
<!-- node_13&#45;&gt;node_14 -->
<g id="edge9" class="edge">
<title>node_13&#45;&gt;node_14</title>
<path fill="none" stroke="#000000" d="M248.9701,-394.0067C248.9701,-386.6437 248.9701,-377.9321 248.9701,-369.6234"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-369.4463 248.9701,-359.4463 245.4702,-369.4464 252.4702,-369.4463"/>
<text text-anchor="middle" x="250.7201" y="-372.6" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="252.4701,-368.4 248.9701,-368.4 248.9701,-376.6905 "/>
</g>
<!-- node_15 -->
<g id="node11" class="node">
<title>node_15</title>
<polygon fill="#cdc673" stroke="#000000" points="348.5833,-282.8019 149.3569,-282.8019 149.3569,-241.5981 348.5833,-241.5981 348.5833,-282.8019"/>
<text text-anchor="start" x="157.1637" y="-266.4" font-family="Times,serif" font-size="14.00" fill="#000000">rename(.,</text>
<text text-anchor="start" x="157.1637" y="-249.6" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;c(diagnosis = surveyCategory))</text>
</g>
<!-- node_14&#45;&gt;node_15 -->
<g id="edge10" class="edge">
<title>node_14&#45;&gt;node_15</title>
<path fill="none" stroke="#000000" d="M248.9701,-317.7234C248.9701,-310.1436 248.9701,-301.4093 248.9701,-293.1453"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-293.0514 248.9701,-283.0514 245.4702,-293.0514 252.4702,-293.0514"/>
<text text-anchor="middle" x="250.7201" y="-296.2" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="252.4701,-292 248.9701,-292 248.9701,-300.1935 "/>
</g>
<!-- node_16 -->
<g id="node12" class="node">
<title>node_16</title>
<polygon fill="#cdc673" stroke="#000000" points="355.8755,-206.4019 142.0647,-206.4019 142.0647,-165.1981 355.8755,-165.1981 355.8755,-206.4019"/>
<text text-anchor="start" x="150.0174" y="-190" font-family="Times,serif" font-size="14.00" fill="#000000">select_columns(.,</text>
<text text-anchor="start" x="150.0174" y="-173.2" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;subjectID, diagnosis, probability)</text>
</g>
<!-- node_15&#45;&gt;node_16 -->
<g id="edge11" class="edge">
<title>node_15&#45;&gt;node_16</title>
<path fill="none" stroke="#000000" d="M248.9701,-241.3234C248.9701,-233.7436 248.9701,-225.0093 248.9701,-216.7453"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-216.6514 248.9701,-206.6514 245.4702,-216.6514 252.4702,-216.6514"/>
<text text-anchor="middle" x="250.7201" y="-219.8" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="252.4701,-215.6 248.9701,-215.6 248.9701,-223.7935 "/>
</g>
<!-- node_17 -->
<g id="node13" class="node">
<title>node_17</title>
<polygon fill="#cdc673" stroke="#000000" points="315.7495,-130.2 182.1907,-130.2 182.1907,-94.2 315.7495,-94.2 315.7495,-130.2"/>
<text text-anchor="start" x="190.0805" y="-108" font-family="Times,serif" font-size="14.00" fill="#000000">orderby(., subjectID)</text>
</g>
<!-- node_16&#45;&gt;node_17 -->
<g id="edge12" class="edge">
<title>node_16&#45;&gt;node_17</title>
<path fill="none" stroke="#000000" d="M248.9701,-164.9061C248.9701,-157.3413 248.9701,-148.6661 248.9701,-140.5668"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-140.3932 248.9701,-130.3933 245.4702,-140.3933 252.4702,-140.3932"/>
<text text-anchor="middle" x="250.7201" y="-143.4" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="252.4701,-139.2 248.9701,-139.2 248.9701,-147.4997 "/>
</g>
<!-- table_ex_47818072688998837753_0000000002 -->
<g id="node14" class="node">
<title>table_ex_47818072688998837753_0000000002</title>
<polygon fill="#66cd00" stroke="#000000" points="399.7676,-75.3003 396.7676,-79.3003 375.7676,-79.3003 372.7676,-75.3003 98.1726,-75.3003 98.1726,.1003 399.7676,.1003 399.7676,-75.3003"/>
<text text-anchor="start" x="106.0714" y="-58.6" font-family="Times,serif" font-size="14.00" fill="#000000">table(`ex_47818072688998837753_0000000002`; </text>
<text text-anchor="start" x="106.0714" y="-41.8" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;subjectID,</text>
<text text-anchor="start" x="106.0714" y="-25" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;diagnosis,</text>
<text text-anchor="start" x="106.0714" y="-8.2" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;probability)</text>
</g>
<!-- node_17&#45;&gt;table_ex_47818072688998837753_0000000002 -->
<g id="edge15" class="edge">
<title>node_17&#45;&gt;table_ex_47818072688998837753_0000000002</title>
<path fill="none" stroke="#000000" d="M248.9701,-94.1414C248.9701,-91.4733 248.9701,-88.6243 248.9701,-85.6771"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-85.3985 248.9701,-75.3986 245.4702,-85.3986 252.4702,-85.3985"/>
</g>
</g>
</svg>

