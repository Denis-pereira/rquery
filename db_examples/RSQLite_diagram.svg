<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: rquery_optree Pages: 1 -->
<svg width="506pt" height="1356pt"
 viewBox="0.00 0.00 505.94 1356.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1352.4)">
<title>rquery_optree</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1352.4 501.9402,-1352.4 501.9402,4 -4,4"/>
<!-- table_d -->
<g id="node1" class="node">
<title>table_d</title>
<polygon fill="#66cd00" stroke="#000000" points="332.2222,-1348.3002 329.2222,-1352.3002 308.2222,-1352.3002 305.2222,-1348.3002 213.718,-1348.3002 213.718,-1239.6998 332.2222,-1239.6998 332.2222,-1348.3002"/>
<text text-anchor="start" x="221.8442" y="-1331.8" font-family="Times,serif" font-size="14.00" fill="#000000">table(`d`; </text>
<text text-anchor="start" x="221.8442" y="-1315" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;subjectID,</text>
<text text-anchor="start" x="221.8442" y="-1298.2" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;surveyCategory,</text>
<text text-anchor="start" x="221.8442" y="-1281.4" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;assessmentTotal,</text>
<text text-anchor="start" x="221.8442" y="-1264.6" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;irrelevantCol1,</text>
<text text-anchor="start" x="221.8442" y="-1247.8" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;irrelevantCol2)</text>
</g>
<!-- node_2 -->
<g id="node2" class="node">
<title>node_2</title>
<polygon fill="#cdc673" stroke="#000000" points="410.1413,-1204.6019 135.7989,-1204.6019 135.7989,-1163.3981 410.1413,-1163.3981 410.1413,-1204.6019"/>
<text text-anchor="start" x="143.6346" y="-1188.2" font-family="Times,serif" font-size="14.00" fill="#000000">extend(.,</text>
<text text-anchor="start" x="143.6346" y="-1171.4" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;probability := exp(assessmentTotal * 0.237))</text>
</g>
<!-- table_d&#45;&gt;node_2 -->
<g id="edge1" class="edge">
<title>table_d&#45;&gt;node_2</title>
<path fill="none" stroke="#000000" d="M272.9701,-1239.6445C272.9701,-1231.0856 272.9701,-1222.506 272.9701,-1214.7347"/>
<polygon fill="#000000" stroke="#000000" points="276.4702,-1214.7164 272.9701,-1204.7164 269.4702,-1214.7164 276.4702,-1214.7164"/>
<text text-anchor="middle" x="274.7201" y="-1218" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="276.4701,-1213.8 272.9701,-1213.8 272.9701,-1222.2318 "/>
</g>
<!-- table_ex_67214559169468639037_0000000000 -->
<g id="node3" class="node">
<title>table_ex_67214559169468639037_0000000000</title>
<polygon fill="#66cd00" stroke="#000000" points="419.4467,-1144.0006 416.4467,-1148.0006 395.4467,-1148.0006 392.4467,-1144.0006 126.4935,-1144.0006 126.4935,-1018.7994 419.4467,-1018.7994 419.4467,-1144.0006"/>
<text text-anchor="start" x="134.732" y="-1127.6" font-family="Times,serif" font-size="14.00" fill="#000000">table(ex_67214559169468639037_0000000000; </text>
<text text-anchor="start" x="134.732" y="-1110.8" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;subjectID,</text>
<text text-anchor="start" x="134.732" y="-1094" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;surveyCategory,</text>
<text text-anchor="start" x="134.732" y="-1077.2" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;assessmentTotal,</text>
<text text-anchor="start" x="134.732" y="-1060.4" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;irrelevantCol1,</text>
<text text-anchor="start" x="134.732" y="-1043.6" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;irrelevantCol2,</text>
<text text-anchor="start" x="134.732" y="-1026.8" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;probability)</text>
</g>
<!-- node_2&#45;&gt;table_ex_67214559169468639037_0000000000 -->
<g id="edge13" class="edge">
<title>node_2&#45;&gt;table_ex_67214559169468639037_0000000000</title>
<path fill="none" stroke="#000000" d="M272.9701,-1163.2374C272.9701,-1160.4578 272.9701,-1157.4903 272.9701,-1154.3934"/>
<polygon fill="#000000" stroke="#000000" points="276.4702,-1154.1348 272.9701,-1144.1348 269.4702,-1154.1348 276.4702,-1154.1348"/>
</g>
<!-- node_5 -->
<g id="node4" class="node">
<title>node_5</title>
<polygon fill="#cdc673" stroke="#000000" points="296.8227,-983.6019 63.1175,-983.6019 63.1175,-942.3981 296.8227,-942.3981 296.8227,-983.6019"/>
<text text-anchor="start" x="71.0438" y="-967.2" font-family="Times,serif" font-size="14.00" fill="#000000">project(., tot_prob := sum(probability),</text>
<text text-anchor="start" x="71.0438" y="-950.4" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;g= subjectID)</text>
</g>
<!-- table_ex_67214559169468639037_0000000000&#45;&gt;node_5 -->
<g id="edge2" class="edge">
<title>table_ex_67214559169468639037_0000000000&#45;&gt;node_5</title>
<path fill="none" stroke="#000000" d="M223.7469,-1018.733C216.2965,-1009.2477 208.9396,-999.8816 202.4448,-991.613"/>
<polygon fill="#000000" stroke="#000000" points="205.1954,-989.4486 196.2659,-983.7465 199.6905,-993.7726 205.1954,-989.4486"/>
<text text-anchor="middle" x="217.7201" y="-997" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="219.4701,-992.8 215.9701,-992.8 212.5696,-1004.5031 "/>
</g>
<!-- node_9 -->
<g id="node6" class="node">
<title>node_9</title>
<polygon fill="#cdc673" stroke="#000000" points="391.4859,-814.2 124.4543,-814.2 124.4543,-778.2 391.4859,-778.2 391.4859,-814.2"/>
<text text-anchor="start" x="132.4622" y="-792" font-family="Times,serif" font-size="14.00" fill="#000000">natural_join(.1, .2, &#160;j= LEFT, by= subjectID)</text>
</g>
<!-- table_ex_67214559169468639037_0000000000&#45;&gt;node_9 -->
<g id="edge3" class="edge">
<title>table_ex_67214559169468639037_0000000000&#45;&gt;node_9</title>
<path fill="none" stroke="#000000" d="M306.9967,-1018.716C328.358,-970.457 347.4638,-903.0822 321.9701,-849 316.7399,-837.9048 307.9077,-828.3486 298.4485,-820.5354"/>
<polygon fill="#000000" stroke="#000000" points="300.4877,-817.6887 290.4206,-814.3867 296.2313,-823.2459 300.4877,-817.6887"/>
<text text-anchor="middle" x="339.2201" y="-920.6" font-family="Times,serif" font-size="14.00" fill="#000000">.1</text>
<polyline fill="none" stroke="#000000" points="344.4701,-916.4 333.9701,-916.4 333.429,-924.2044 "/>
</g>
<!-- table_ex_67214559169468639037_0000000001 -->
<g id="node5" class="node">
<title>table_ex_67214559169468639037_0000000001</title>
<polygon fill="#66cd00" stroke="#000000" points="304.4467,-907.6014 301.4467,-911.6014 280.4467,-911.6014 277.4467,-907.6014 11.4935,-907.6014 11.4935,-848.7986 304.4467,-848.7986 304.4467,-907.6014"/>
<text text-anchor="start" x="19.732" y="-890.8" font-family="Times,serif" font-size="14.00" fill="#000000">table(ex_67214559169468639037_0000000001; </text>
<text text-anchor="start" x="19.732" y="-874" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;subjectID,</text>
<text text-anchor="start" x="19.732" y="-857.2" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;tot_prob)</text>
</g>
<!-- node_5&#45;&gt;table_ex_67214559169468639037_0000000001 -->
<g id="edge14" class="edge">
<title>node_5&#45;&gt;table_ex_67214559169468639037_0000000001</title>
<path fill="none" stroke="#000000" d="M174.5319,-942.0382C172.593,-934.5648 170.3413,-925.8855 168.1347,-917.38"/>
<polygon fill="#000000" stroke="#000000" points="171.4856,-916.3584 165.5865,-907.5578 164.7099,-918.1163 171.4856,-916.3584"/>
</g>
<!-- table_ex_67214559169468639037_0000000001&#45;&gt;node_9 -->
<g id="edge4" class="edge">
<title>table_ex_67214559169468639037_0000000001&#45;&gt;node_9</title>
<path fill="none" stroke="#000000" d="M193.7899,-848.8277C204.9547,-839.6726 217.1479,-829.6742 227.8787,-820.8749"/>
<polygon fill="#000000" stroke="#000000" points="230.245,-823.4608 235.7584,-814.4136 225.8064,-818.048 230.245,-823.4608"/>
<text text-anchor="middle" x="228.2201" y="-827.4" font-family="Times,serif" font-size="14.00" fill="#000000">.2</text>
<polyline fill="none" stroke="#000000" points="233.4701,-823.2 222.9701,-823.2 222.751,-825.0796 "/>
</g>
<!-- node_10 -->
<g id="node7" class="node">
<title>node_10</title>
<polygon fill="#cdc673" stroke="#000000" points="371.6238,-743.2019 144.3164,-743.2019 144.3164,-701.9981 371.6238,-701.9981 371.6238,-743.2019"/>
<text text-anchor="start" x="152.1434" y="-726.8" font-family="Times,serif" font-size="14.00" fill="#000000">extend(.,</text>
<text text-anchor="start" x="152.1434" y="-710" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;probability := probability / tot_prob)</text>
</g>
<!-- node_9&#45;&gt;node_10 -->
<g id="edge5" class="edge">
<title>node_9&#45;&gt;node_10</title>
<path fill="none" stroke="#000000" d="M257.9701,-778.0067C257.9701,-770.6437 257.9701,-761.9321 257.9701,-753.6234"/>
<polygon fill="#000000" stroke="#000000" points="261.4702,-753.4463 257.9701,-743.4463 254.4702,-753.4464 261.4702,-753.4463"/>
<text text-anchor="middle" x="259.7201" y="-756.6" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="261.4701,-752.4 257.9701,-752.4 257.9701,-760.6905 "/>
</g>
<!-- table_ex_67214559169468639037_0000000002 -->
<g id="node8" class="node">
<title>table_ex_67214559169468639037_0000000002</title>
<polygon fill="#66cd00" stroke="#000000" points="404.4467,-683.0006 401.4467,-687.0006 380.4467,-687.0006 377.4467,-683.0006 111.4935,-683.0006 111.4935,-540.1994 404.4467,-540.1994 404.4467,-683.0006"/>
<text text-anchor="start" x="119.732" y="-666.2" font-family="Times,serif" font-size="14.00" fill="#000000">table(ex_67214559169468639037_0000000002; </text>
<text text-anchor="start" x="119.732" y="-649.4" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;subjectID,</text>
<text text-anchor="start" x="119.732" y="-632.6" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;surveyCategory,</text>
<text text-anchor="start" x="119.732" y="-615.8" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;assessmentTotal,</text>
<text text-anchor="start" x="119.732" y="-599" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;irrelevantCol1,</text>
<text text-anchor="start" x="119.732" y="-582.2" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;irrelevantCol2,</text>
<text text-anchor="start" x="119.732" y="-565.4" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;probability,</text>
<text text-anchor="start" x="119.732" y="-548.6" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;tot_prob)</text>
</g>
<!-- node_10&#45;&gt;table_ex_67214559169468639037_0000000002 -->
<g id="edge15" class="edge">
<title>node_10&#45;&gt;table_ex_67214559169468639037_0000000002</title>
<path fill="none" stroke="#000000" d="M257.9701,-701.9819C257.9701,-699.2487 257.9701,-696.3258 257.9701,-693.2652"/>
<polygon fill="#000000" stroke="#000000" points="261.4702,-693.0858 257.9701,-683.0858 254.4702,-693.0858 261.4702,-693.0858"/>
</g>
<!-- node_13 -->
<g id="node9" class="node">
<title>node_13</title>
<polygon fill="#cdc673" stroke="#000000" points="290.0888,-505.4019 41.8514,-505.4019 41.8514,-464.1981 290.0888,-464.1981 290.0888,-505.4019"/>
<text text-anchor="start" x="49.6609" y="-489" font-family="Times,serif" font-size="14.00" fill="#000000">project(., probability := max(probability),</text>
<text text-anchor="start" x="49.6609" y="-472.2" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;g= subjectID)</text>
</g>
<!-- table_ex_67214559169468639037_0000000002&#45;&gt;node_13 -->
<g id="edge6" class="edge">
<title>table_ex_67214559169468639037_0000000002&#45;&gt;node_13</title>
<path fill="none" stroke="#000000" d="M206.055,-540.0475C199.3503,-530.8066 192.8161,-521.8007 187.0348,-513.8327"/>
<polygon fill="#000000" stroke="#000000" points="189.7903,-511.6705 181.0847,-505.6319 184.1245,-515.7813 189.7903,-511.6705"/>
<text text-anchor="middle" x="200.7201" y="-518.8" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="202.4701,-514.6 198.9701,-514.6 195.8995,-526.0505 "/>
</g>
<!-- node_17 -->
<g id="node11" class="node">
<title>node_17</title>
<polygon fill="#cdc673" stroke="#000000" points="421.2462,-336 76.694,-336 76.694,-300 421.2462,-300 421.2462,-336"/>
<text text-anchor="start" x="84.5821" y="-313.8" font-family="Times,serif" font-size="14.00" fill="#000000">natural_join(.1, .2, &#160;j= INNER, by= subjectID, probability)</text>
</g>
<!-- table_ex_67214559169468639037_0000000002&#45;&gt;node_17 -->
<g id="edge8" class="edge">
<title>table_ex_67214559169468639037_0000000002&#45;&gt;node_17</title>
<path fill="none" stroke="#000000" d="M297.9794,-540.2011C320.0527,-490.8356 338.3399,-424.6192 312.9701,-370.8 307.7399,-359.7048 298.9077,-350.1486 289.4485,-342.3354"/>
<polygon fill="#000000" stroke="#000000" points="291.4877,-339.4887 281.4206,-336.1867 287.2313,-345.0459 291.4877,-339.4887"/>
<text text-anchor="middle" x="331.2201" y="-442.4" font-family="Times,serif" font-size="14.00" fill="#000000">.2</text>
<polyline fill="none" stroke="#000000" points="336.4701,-438.2 325.9701,-438.2 324.5682,-445.761 "/>
</g>
<!-- table_ex_67214559169468639037_0000000003 -->
<g id="node10" class="node">
<title>table_ex_67214559169468639037_0000000003</title>
<polygon fill="#66cd00" stroke="#000000" points="295.4467,-429.4014 292.4467,-433.4014 271.4467,-433.4014 268.4467,-429.4014 2.4935,-429.4014 2.4935,-370.5986 295.4467,-370.5986 295.4467,-429.4014"/>
<text text-anchor="start" x="10.732" y="-412.6" font-family="Times,serif" font-size="14.00" fill="#000000">table(ex_67214559169468639037_0000000003; </text>
<text text-anchor="start" x="10.732" y="-395.8" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;subjectID,</text>
<text text-anchor="start" x="10.732" y="-379" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;probability)</text>
</g>
<!-- node_13&#45;&gt;table_ex_67214559169468639037_0000000003 -->
<g id="edge16" class="edge">
<title>node_13&#45;&gt;table_ex_67214559169468639037_0000000003</title>
<path fill="none" stroke="#000000" d="M161.7679,-463.8382C160.2696,-456.3648 158.5297,-447.6855 156.8246,-439.18"/>
<polygon fill="#000000" stroke="#000000" points="160.2529,-438.4747 154.8555,-429.3578 153.3895,-439.8507 160.2529,-438.4747"/>
</g>
<!-- table_ex_67214559169468639037_0000000003&#45;&gt;node_17 -->
<g id="edge7" class="edge">
<title>table_ex_67214559169468639037_0000000003&#45;&gt;node_17</title>
<path fill="none" stroke="#000000" d="M184.7899,-370.6277C195.9547,-361.4726 208.1479,-351.4742 218.8787,-342.6749"/>
<polygon fill="#000000" stroke="#000000" points="221.245,-345.2608 226.7584,-336.2136 216.8064,-339.848 221.245,-345.2608"/>
<text text-anchor="middle" x="219.2201" y="-349.2" font-family="Times,serif" font-size="14.00" fill="#000000">.1</text>
<polyline fill="none" stroke="#000000" points="224.4701,-345 213.9701,-345 213.751,-346.8796 "/>
</g>
<!-- node_18 -->
<g id="node12" class="node">
<title>node_18</title>
<polygon fill="#cdc673" stroke="#000000" points="497.9103,-265.0019 .0299,-265.0019 .0299,-223.7981 497.9103,-223.7981 497.9103,-265.0019"/>
<text text-anchor="start" x="8" y="-248.6" font-family="Times,serif" font-size="14.00" fill="#000000">project(., probability := max(probability), surveyCategory := min(surveyCategory [...]</text>
<text text-anchor="middle" x="248.9701" y="-231.8" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;g= subjectID)</text>
</g>
<!-- node_17&#45;&gt;node_18 -->
<g id="edge9" class="edge">
<title>node_17&#45;&gt;node_18</title>
<path fill="none" stroke="#000000" d="M248.9701,-299.8067C248.9701,-292.4437 248.9701,-283.7321 248.9701,-275.4234"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-275.2463 248.9701,-265.2463 245.4702,-275.2464 252.4702,-275.2463"/>
<text text-anchor="middle" x="250.7201" y="-278.4" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="252.4701,-274.2 248.9701,-274.2 248.9701,-282.4905 "/>
</g>
<!-- node_19 -->
<g id="node13" class="node">
<title>node_19</title>
<polygon fill="#cdc673" stroke="#000000" points="348.5833,-188.6019 149.3569,-188.6019 149.3569,-147.3981 348.5833,-147.3981 348.5833,-188.6019"/>
<text text-anchor="start" x="157.1637" y="-172.2" font-family="Times,serif" font-size="14.00" fill="#000000">rename(.,</text>
<text text-anchor="start" x="157.1637" y="-155.4" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;c(diagnosis = surveyCategory))</text>
</g>
<!-- node_18&#45;&gt;node_19 -->
<g id="edge10" class="edge">
<title>node_18&#45;&gt;node_19</title>
<path fill="none" stroke="#000000" d="M248.9701,-223.5234C248.9701,-215.9436 248.9701,-207.2093 248.9701,-198.9453"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-198.8514 248.9701,-188.8514 245.4702,-198.8514 252.4702,-198.8514"/>
<text text-anchor="middle" x="250.7201" y="-202" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="252.4701,-197.8 248.9701,-197.8 248.9701,-205.9935 "/>
</g>
<!-- node_20 -->
<g id="node14" class="node">
<title>node_20</title>
<polygon fill="#cdc673" stroke="#000000" points="355.8755,-112.2019 142.0647,-112.2019 142.0647,-70.9981 355.8755,-70.9981 355.8755,-112.2019"/>
<text text-anchor="start" x="150.0174" y="-95.8" font-family="Times,serif" font-size="14.00" fill="#000000">select_columns(.,</text>
<text text-anchor="start" x="150.0174" y="-79" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;subjectID, diagnosis, probability)</text>
</g>
<!-- node_19&#45;&gt;node_20 -->
<g id="edge11" class="edge">
<title>node_19&#45;&gt;node_20</title>
<path fill="none" stroke="#000000" d="M248.9701,-147.1234C248.9701,-139.5436 248.9701,-130.8093 248.9701,-122.5453"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-122.4514 248.9701,-112.4514 245.4702,-122.4514 252.4702,-122.4514"/>
<text text-anchor="middle" x="250.7201" y="-125.6" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="252.4701,-121.4 248.9701,-121.4 248.9701,-129.5935 "/>
</g>
<!-- node_21 -->
<g id="node15" class="node">
<title>node_21</title>
<polygon fill="#cdc673" stroke="#000000" points="315.7495,-36 182.1907,-36 182.1907,0 315.7495,0 315.7495,-36"/>
<text text-anchor="start" x="190.0805" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">orderby(., subjectID)</text>
</g>
<!-- node_20&#45;&gt;node_21 -->
<g id="edge12" class="edge">
<title>node_20&#45;&gt;node_21</title>
<path fill="none" stroke="#000000" d="M248.9701,-70.7061C248.9701,-63.1413 248.9701,-54.4661 248.9701,-46.3668"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-46.1932 248.9701,-36.1933 245.4702,-46.1933 252.4702,-46.1932"/>
<text text-anchor="middle" x="250.7201" y="-49.2" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="252.4701,-45 248.9701,-45 248.9701,-53.2997 "/>
</g>
</g>
</svg>

